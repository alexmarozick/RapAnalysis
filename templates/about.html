<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <script src="https://kit.fontawesome.com/75ff20203d.js" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Saira:wght@300;500&display=swap" rel="stylesheet">


        <!-- Footer --> 
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="../static/stylesheets/footer.css">


        <!-- Javascript:  JQuery from a content distribution network (CDN) -->
        <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
        </script>
        <link rel="stylesheet" href="../static/stylesheets/about.css">
        <title>Rhyme Scheme Analysis</title>
    </head>


<body>
    <header>
        <div class="nav-menu"> 
            <div class="bar top"></div> <!--top bar of menu-->
            <div class="bar"></div>     <!--mid bar of menu-->
            <div class="bar bot"></div> <!--bottom bar of menu-->
        </div>
        <nav class="top-nav">
            <ul class="nav-list">

                <li class="nav-item">
                    <a href="/" class="nav-link">Home</a>
                </li>

                <li class="nav-item">
                    <a href="#Home" class="nav-link">About</a>
                </li>
                
                <li class="nav-item">
                    <a href="/spotify_login" class="nav-link">MySpotify</a>
                </li>

                <li class="nav-social"> 
                    <div class="socials">
                        <a href="https://github.com/alexmarozick/RapAnalysis/" class="icon-link" target="_blank">
                            <i class="fa fa-github" aria-hidden="true"></i>
                        </a>
                    </div>
                </li>

            </ul>
                <label class="switch">
                    <input type="checkbox" id="checkbox" />
                    <span class="slider"></span>
                </label>
        </nav>  
    </header>      

    <main>
        <div id="content">
            <br><br><br><br>
            <h2 class="about_subtitles"  id="about">About</h2>
            <p> This Rap Analysis Webpage (RPW) visualizes the way that a rapper rhymes in a given song by color coding groups of words that rhyme. Simply search a song on the homepage or log in with Spotify to analyze your favorite Hip-Hop playlist and recently listened songs. Your searches query our custom database of analyzed lyrics of over ___ artists. Can't find your favorite song or artist? Check back soon! We will adding the ability to add new songs to our database on the fly in a coming update!</p>
            <p>Lyrics are captured one verse or chorus at a time, allowing RPW to consider both internal and end rhymes while eliminating false positives occurring throughout a verse no matter their position within a given line.</p>
            <p>Test it out with these notable examples, or read into the inner-workings of RPW Below! </p>
            <!-- TODO JUNO: Put href link examples here
            clout cobain -- denzel curry
            tragedy - rza 
            sirens - denzel curry
            dna - kendrick lamar
            stan - eminem
            gin and juice - snoop dogg
            i think - tyler the creator  
            NOTE ALEX: you're welcome to suggest some other ones as well, i based this list off of how the highlighting looked 
    -->
            <h2 class="about_subtitles"  id="approach">Approach</h2>
            <h3 class="about_subtitles"  id="obtaining-lyrics">Obtaining Lyrics</h3>
            <p>We used the <a href="https://github.com/johnwmillr/LyricsGenius">LyricsGenius</a> python library to collect lyrics for over 100 artists. This library runs on a combination of the official Genius API and web-scraping tools. Due to Intellectual Property law and licensing, we cannot provide this database for other developers looking to contribute to this project, however, we have provided the scripts which we used to build our database. More information on using these tools is available in our wiki [LINK ME BRO]</p>
            <h3 class="about_subtitles"  id="rhyme-detection">Rhyme Detection</h3>
            <p>English is a fickle language. For Example: through, rough, and trough share the same '-ough' ending despite being pronouced differently (/THroÕûo/, /r…ôf/, /tr√¥f/). This presents an interesting problem as rhymes cannot be detected via spelling alone. Moreover, rappers frequently coerse pronounciations to force rhymes where they would not normally occur.</p>
            <p>To account for these problems, we break words down into a list of phonemes (phonetic syllables which describe how a word is prnounced) using the Python Natual Language Toolkit and the CMU Pronouncing Dictionary (CMUDict) which contains 39 phonemes and three levels of syllabic stress. For example, <code>Cheese</code> -&gt; <code>CH IY Z</code>. We compare the ending phonemes of words to look for rhymes and address pronounciation coersion in two ways:</p>
            <ol>
            <li>
            <p>Multiple Word Prounounciations</p>
            <p>CMUDict contains multiple pronounciations for many words. For Example, we catch a rhyme between <code>&quot;Business&quot;</code> and <code>&quot;Witness&quot;</code> by comparing two pronounciations of <code>&quot;Business&quot;</code> ( <code>B IH1 Z N AH0 S</code> and <code>B IH1 Z N IH0 S</code>) with the single pronounciation of <code>&quot;Witness&quot;</code> (<code>W IH1 T N AH0 S</code>)</p>
            </li>
            <li>
            <p>Rebuilding Truncated Stuffixes</p>
            <p>Many rappers use a truncated suffix, ending present participle <code>-ing</code> words with <code>in'</code></p>
            <pre class="good_codE"><code>     Dodgin' bullets, reapin' what you sow
                And stackin' up the footage, livin' on the go
            </code></pre>
            <p><code>Dodgin</code> and <code>Reapin</code> are not official words listed in the CMUDict, so we rebuild these suffixes to <code>Dodging</code> and <code>Reaping</code> to catch rhymes between words of this form and words with a complete <code>ing</code> ending</p>
            <p>Note: For words that are not in the CMUDict, direct string equality is used.</p>
            </li>
            </ol>
            <p>Our algorithm considers one verse or chorus at a time to mitigate false positives derived from rhymes detected across sections. In a given section, our algorithm operates as follows:</p>
            <!-- Same change for this <pre> as well -->
            <pre class="good_codE"><code>rhymeNumber = 0
            for A in section: 
                for B in section[index of A onward]:
                    if A rhymes with B: 
                        Mark A with rhymeNumber
                        Mark All instances of B with RhymeNumber
                        RhymeNumber++
            </code></pre>
            <p>We generate a list of RhymeNumbers with a 1-1 correspondence with the lyrics of a given song which is stored in our database. The Rhyme Number of a word is used to determine the color it is ascribed in on the YFM WebService.</p>
            <!-- TODO: DEFINE RHYME NUMBER MORE CLEARLY -->
            <h3 class="about_subtitles"  id="spotify-integration">Spotify Integration</h3>
            <p>In addition to viewing one song at a time by searching on the RPW Homepage, users can log in with their Spotify account to grant RPW access to their playlists and recently listened songs. Users can then select a playlist  or number of recently listened songs they wish to analyze. Highlighted Lyrics are presented to the user with a dropdown menu to switch between songs.</p>
            <h3 class="about_subtitles"  id="highlighting-lyrics">Highlighting Lyrics:</h3>
            <p>A word's Rhyme Number is used to determine the color of its highlight: A word's rhyme number is mapped to an HSL hue value, a multiple of 10 ranging from 0 to 360. The luminance value of a rhyme given Rhyme Number alternates between a light and dark value to provide further differentiation between rhyme sets.</p>
            <p>A rhyme number of -1 corresponds to no highlighting.</p>
            <!-- TODO: DESCRIBE MORE CLEARLY HOW HIGHLIGHTING WORKS  -->
            <h3 class="about_subtitles"  id="hosting-lyrics-and-rhyming-information">Hosting Lyrics and rhyming information</h3>
            <p>Web-scraping lyrics using LyricsGenius proved too inefficient to rely on for realtime analysis of more than one song at a time. We opted to build a MongDB database of over 100 artists (most of which had 100-300 songs), their lyrics, and their rhyme information in the following format:</p>
            <pre class="good_codE"><code>{Database: 
                {'artist1' : [
                            {'song1': &quot;songName&quot; , 'lyrics' : &quot;lyrics go here&quot;, 'rhyme' [[List of Rhyme Numbers]]}
                            {'song2': &quot;songName&quot; , 'lyrics' : &quot;lyrics go here&quot;, 'rhyme' [[List of Rhyme Numbers]]}
                            ]
                }
                {'artist2' : [
                            {'song1': &quot;songName&quot; , 'lyrics' : &quot;lyrics go here&quot;, 'rhyme' [[List of Rhyme Numbers]]}
                            {'song2': &quot;songName&quot; , 'lyrics' : &quot;lyrics go here&quot;, 'rhyme' [[List of Rhyme Numbers]]}
                            ]
                }
            }
            </code></pre>
            <p>Artist and song names were made lowercase and stripped of any special characters. ('.' replaced with '' and '$' replaced with 's' to conform to MongoDB restrictions)
            MongoDB's Text indexing to allows users to search our database in a case-insensitive manner.</p>
            <h3 class="about_subtitles"  id="next-steps">Next Steps</h3>
            <ol>
            <li>
            <p>Using Rhyme Information to generate Statistics: <br>
            We intend to calculate statistics for artists based on rhyming such as their average amount of unique rhymes per song. This information will be merged with the present Spotify page to allow a user to compare artists on their favorites list</p>
            </li>
            <li>
            <p>Improving Rhyme Detection <br>
                <!-- TODO JUNO: Im actually gonna flesh this out dw -->
            Put a lil' bit of AI and ML in there and this thing'll be flyin'! üëç
            <!-- TODO ALEX ABDU: for the lulz heres le funny may may echsdeeeee -->
            <img src="http://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FThumb_signal&amp;psig=AOvVaw3hEzRyc5f1LGUDsdRAoVvZ&amp;ust=1606194084787000&amp;source=images&amp;cd=vfe&amp;ved=0CAIQjRxqFwoTCLD_k7Hxl-0CFQAAAAAdAAAAABAD" alt=""></p>
            </li>
            </ol>
        </div>
        <!-- footer -->
        <div class="footer-container" style="position:static;">
            <div class="footer">
                <div class="footer-heading footer-1">
                    <h3>Abdurraheem Elfandi</h3>
                    <a href="https://github.com/Abduarraheem" class="contact-icon" target="_blank">
                        <i class="fa fa-github" aria-hidden="true"></i>
                    </a>
                    <a class="email-link" href="mailto:elfandi.a23@gmail.com">elfandi.a23@gmail.com</a>
                </div>
    
                <div class="footer-heading footer-2">
                    <h3>Alex Marozick</h3>
                    <a href="https://github.com/alexmarozick" class="contact-icon" target="_blank">
                        <i class="fa fa-github" aria-hidden="true"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/alex-marozick-290b85195/" class="contact-icon" target="_blank">
                        <i class="fa fa-linkedin-square" aria-hidden="true"></i>
                    </a>
                    <a class="email-link" href="mailto:alexmarozick@gmail.com">alexmarozick@gmail.com</a>        
                </div>
                
                <div class="footer-heading footer-3">
                    <h3>Juno Mayer</h3>
                    <a href="https://github.com/Saybrr" class="contact-icon" target="_blank">
                        <i class="fa fa-github" aria-hidden="true"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/juno-mayer-b50a441a2/" class="contact-icon" target="_blank">
                        <i class="fa fa-linkedin-square" aria-hidden="true"></i>
                    </a>
                    <a class="email-link" href="mailto:gjvmayer@gmail.com"> gjvmayer@gmail.com</a>
                </div>
            </div>
        </div>
        <script src="../static/JSscripts/main.js"></script>
    </main>
</body>

</html>